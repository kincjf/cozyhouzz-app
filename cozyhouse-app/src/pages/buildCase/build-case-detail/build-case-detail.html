<!--
  Generated template for the PostPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="cozy" >
    <ion-title>방 정보 상세보기</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>

  <ion-item class="item-no-border">
    <ion-avatar item-left (click)="viewUser(post.user_id)">
      <img src="{{ post.face }}">
    </ion-avatar>
    <h2 color="primary"  class="post-author" (click)="viewUser(post.user_id)">{{ post.name }}</h2>
    <span class="post-time">
      {{ initWriteDate }}
    </span>
  </ion-item>

  <div>
    <img class="full-image" *ngIf="post.image" src="{{ post.image }}" style="width: 100%">
    <ion-list>

      <ion-grid class="post-actions buildCaseInformationGrid" style="box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14);">
        <ion-row class="buildCaseInformationGridBorderClass padding-6">
          <ion-col width-25 text-center>
            <span class="label label-warning">공사면적</span>
          </ion-col>
          <ion-col width-75 text-center>
            <span class="label label-primary">{{buildTotalArea}}</span>
          </ion-col>
        </ion-row>
        <ion-row class="buildCaseInformationGridBorderClass padding-6">
          <ion-col width-25 text-center>
            <span class="label label-warning">공사구분</span>
          </ion-col>
          <ion-col width-75 text-center>
            <span class="label label-primary">{{buildType}}</span>
          </ion-col>
        </ion-row>
        <ion-row class="buildCaseInformationGridBorderClass padding-6">
          <ion-col width-25 text-center>
            <span class="label label-warning">시공가격</span>
          </ion-col>
          <ion-col width-75 text-center>
            <span class="label label-primary">{{buildTotalPrice}}만원</span>
          </ion-col>
        </ion-row>
        <ion-row class="padding-6">
          <ion-col width-25 text-center>
            <span class="label label-warning">공사장소</span>
          </ion-col>
          <ion-col width-75 text-center>
            <span class="label label-primary">{{buildPlace}}</span>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-list>
    <div style="word-break: break-all; padding: 0 16px" [innerHTML]="htmlText" class="innerHtmlDiv">

    </div>
    <div padding>

        <a (click)="toggleLike(post)" class="subdued">
          <ion-icon name="thumbs-up" color="primary"  *ngIf="post.liked"></ion-icon>
          <ion-icon name="thumbs-up" color="gray"  *ngIf="!post.liked"></ion-icon>
          {{ post.likeCount}}
        </a>
        <a class="subdued">
          <ion-icon name="chatboxes" color="primary" ></ion-icon>
          {{ post.commentCount}}
        </a>

      <ion-item class="post-comment" *ngFor="let comment of post.comments">
        <ion-avatar item-left (click)="viewUser(comment.user_id)">
          <img src="{{ comment.face }}">
        </ion-avatar>

        <h3 color="primary"  class="post-author">
          {{ comment.name }}
        </h3>
        <p text-wrap>{{ comment.content}}</p>
        <a class="subdued like-count">
          <ion-icon name="heart" color="danger"  *ngIf="comment.liked"></ion-icon>
          <ion-icon name="heart" color="gray"  *ngIf="!comment.liked"></ion-icon>
          {{ comment.likeCount}}
        </a>
        <span class="post-time">
          <ion-icon name="timer-outline"></ion-icon>
          {{ comment.time }}
        </span>
      </ion-item>
    </div>
  </div>
</ion-content>
